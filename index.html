<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="theme-color" content="#ffffff" />
  
  <link rel="manifest" href="manifest.json" />
  <link rel="apple-touch-icon" sizes="180x180" href="icon.png" />
  <link rel="icon" type="image/png" sizes="192x192" href="icon.png" />
  <link rel="icon" type="image/png" sizes="512x512" href="icon.png" />
  
  <title>HLB Connect</title>
  <style>
    /* --- 100% 照搬老版本 CSS --- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      background: #fff; /* 老版本背景是白色 */
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    }

    .screen {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      opacity: 0;
      pointer-events: none;
      z-index: 0;
    }

    .screen.active {
      opacity: 1;
      pointer-events: auto;
      z-index: 10;
    }

    /* 【核心】完全保留老版本的图片处理逻辑 */
    .screen img {
      width: 100%;
      height: auto;
      max-height: 100%;
      object-fit: cover;
      position: absolute;
      top: 50%;
      left: 0;
      transform: translateY(-50%);
    }

    .hotspot {
      position: absolute;
      background: rgba(255, 0, 0, 0); /* 透明热区 */
      z-index: 20;
      cursor: pointer;
    }

    /* --- 底部导航栏容器 (新增，为了适配新菜单) --- */
    .bottom-nav-container {
      position: absolute; bottom: 0; left: 0; width: 100%; height: 12%; 
      display: flex; z-index: 50;
    }
    .nav-btn { flex: 1; height: 100%; position: relative; cursor: pointer; }

    /* --- 老版本动画逻辑 --- */
    @keyframes slideInLeft { from { transform: translateX(100%); opacity: 0.3; } to { transform: translateX(0); opacity: 1; } }
    @keyframes slideOutLeft { from { transform: translateX(0); opacity: 1; } to { transform: translateX(-100%); opacity: 0; } }
    @keyframes slideInRight { from { transform: translateX(-100%); opacity: 0.3; } to { transform: translateX(0); opacity: 1; } }
    @keyframes slideOutRight { from { transform: translateX(0); opacity: 1; } to { transform: translateX(100%); opacity: 0; } }
    @keyframes slideInUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    .screen.animating { pointer-events: none; z-index: 5; }

    .slide-in-left { animation: slideInLeft 0.5s forwards; }
    .slide-out-left { animation: slideOutLeft 0.5s forwards; }
    .slide-in-right { animation: slideInRight 0.5s forwards; }
    .slide-out-right { animation: slideOutRight 0.5s forwards; }
    
    /* 新增动画辅助类 */
    .slide-up-enter { animation: slideInUp 0.5s forwards; }
    .fade-enter { animation: fadeIn 0.3s forwards; }

  </style>
</head>

<body>

  <div class="screen active" id="screen-login">
    <img src="1_Login.jpg" alt="Login" />
    <div class="hotspot" style="left: 10%; top: 53.5%; width: 80%; height: 7.5%;" onclick="goTo('screen-home', 'slide-up')"></div>
  </div>

  <div class="screen" id="screen-home">
    <img src="2_Home.jpg" alt="Home" />
    <div class="bottom-nav-container">
      <div class="nav-btn" onclick="goTo('screen-home', 'fade')"></div>
      <div class="nav-btn" onclick="goTo('screen-overview', 'fade')"></div>
      <div class="nav-btn" onclick="goTo('screen-menu', 'fade')"></div>
      <div class="nav-btn" onclick="goTo('screen-apply', 'fade')"></div>
      <div class="nav-btn" onclick="goTo('screen-activities', 'fade')"></div>
    </div>
  </div>

  <div class="screen" id="screen-overview">
    <img src="3_Overview.jpg" alt="Overview" />
    <div class="hotspot" style="left: 0; top: 36%; width: 100%; height: 14%;" onclick="goTo('screen-fixed', 'slide-next')"></div>
    <div class="bottom-nav-container">
      <div class="nav-btn" onclick="goTo('screen-home', 'fade')"></div>
      <div class="nav-btn" onclick="goTo('screen-overview', 'fade')"></div>
      <div class="nav-btn" onclick="goTo('screen-menu', 'fade')"></div>
      <div class="nav-btn" onclick="goTo('screen-apply', 'fade')"></div>
      <div class="nav-btn" onclick="goTo('screen-activities', 'fade')"></div>
    </div>
  </div>

  <div class="screen" id="screen-fixed">
    <img src="4_FixedDeposit.jpg" alt="Fixed Deposit" />
    <div class="hotspot" style="left: 0; top: 0; width: 15%; height: 10%;" onclick="goTo('screen-overview', 'slide-back')"></div>
    <div class="hotspot" style="left: 0; top: 58%; width: 100%; height: 16%;" onclick="goTo('screen-receipt', 'slide-next')"></div>
    <div class="bottom-nav-container">
      <div class="nav-btn" onclick="goTo('screen-home', 'fade')"></div>
      <div class="nav-btn" onclick="goTo('screen-overview', 'fade')"></div>
      <div class="nav-btn" onclick="goTo('screen-menu', 'fade')"></div>
      <div class="nav-btn" onclick="goTo('screen-apply', 'fade')"></div>
      <div class="nav-btn" onclick="goTo('screen-activities', 'fade')"></div>
    </div>
  </div>

  <div class="screen" id="screen-receipt">
    <img src="5_Receipt.jpg" alt="Receipt" />
    <div class="hotspot" style="left: 0; top: 0; width: 15%; height: 8%;" onclick="goTo('screen-fixed', 'slide-back')"></div>
  </div>

  <div class="screen" id="screen-menu">
    <img src="6_Menu.jpg" alt="Menu" />
    <div class="bottom-nav-container">
       <div class="nav-btn" onclick="goTo('screen-home', 'fade')"></div>
       <div class="nav-btn" onclick="goTo('screen-overview', 'fade')"></div>
       <div class="nav-btn" onclick="goTo('screen-menu', 'fade')"></div>
       <div class="nav-btn" onclick="goTo('screen-apply', 'fade')"></div>
       <div class="nav-btn" onclick="goTo('screen-activities', 'fade')"></div>
    </div>
  </div>
  
  <div class="screen" id="screen-apply">
    <img src="7_Apply.jpg" alt="Apply" />
    <div class="bottom-nav-container">
       <div class="nav-btn" onclick="goTo('screen-home', 'fade')"></div>
       <div class="nav-btn" onclick="goTo('screen-overview', 'fade')"></div>
       <div class="nav-btn" onclick="goTo('screen-menu', 'fade')"></div>
       <div class="nav-btn" onclick="goTo('screen-apply', 'fade')"></div>
       <div class="nav-btn" onclick="goTo('screen-activities', 'fade')"></div>
    </div>
  </div>
  
  <div class="screen" id="screen-activities">
    <img src="8_Activities.jpg" alt="Activities" />
    <div class="bottom-nav-container">
       <div class="nav-btn" onclick="goTo('screen-home', 'fade')"></div>
       <div class="nav-btn" onclick="goTo('screen-overview', 'fade')"></div>
       <div class="nav-btn" onclick="goTo('screen-menu', 'fade')"></div>
       <div class="nav-btn" onclick="goTo('screen-apply', 'fade')"></div>
       <div class="nav-btn" onclick="goTo('screen-activities', 'fade')"></div>
    </div>
  </div>

  <script>
    let currentScreen = document.querySelector('.screen.active');

    // 使用老版本的 JS 逻辑，仅增加了新页面ID的支持
    function goTo(targetId, type) {
      const target = document.getElementById(targetId);
      if (!target || target === currentScreen) return;

      // 判断方向逻辑 (简化版)
      const isForward = type === 'slide-next' || type === 'slide-up';
      
      let outClass = 'slide-out-left';
      let inClass = 'slide-in-right';

      if (type === 'slide-back') {
        outClass = 'slide-out-right';
        inClass = 'slide-in-left';
      } else if (type === 'slide-up') {
        inClass = 'slide-up-enter';
      } else if (type === 'fade') {
        inClass = 'fade-enter';
        outClass = ''; // Fade 不需要 outClass
      }

      // 添加动画类
      if (outClass) currentScreen.classList.add('animating', outClass);
      target.classList.add('screen', 'animating', inClass);
      
      target.style.zIndex = 20;

      setTimeout(() => {
        if (outClass) currentScreen.classList.remove('active', 'animating', outClass);
        else currentScreen.classList.remove('active'); // for fade
        
        target.classList.remove('animating', inClass);
        target.classList.add('active');
        currentScreen = target;
      }, 500);
    }

    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(reg => console.log('SW registered'))
        .catch(err => console.error('SW registration failed', err));
    }
  </script>
</body>

</html>
